# ==========================================
# Rust Axum Backend 配置
# ==========================================

# 服務器配置
HOST=127.0.0.1
PORT=3000

# ==========================================
# SQLite 數據庫配置
# ==========================================

# 數據庫文件路徑
# 選項 1: 相對路徑（相對於項目根目錄）
DATABASE_URL=sqlite:../db/data.db

# 選項 2: 指向 Directus 數據庫（推薦）
# DATABASE_URL=sqlite:../directus/data/database.db

# 選項 3: 絕對路徑
# DATABASE_URL=sqlite:/absolute/path/to/database.db

# 選項 4: 內存數據庫（測試用）
# DATABASE_URL=sqlite::memory:

# ==========================================
# SQLite 連接池配置
# ==========================================

# 最大連接數（預設: 5）
# SQLite 建議值: 5-10（因為寫入操作會鎖定）
DATABASE_MAX_CONNECTIONS=5

# 獲取連接超時時間（秒，預設: 3）
DATABASE_ACQUIRE_TIMEOUT=3

# ==========================================
# SQLite 性能優化配置
# ==========================================

# Journal Mode（日誌模式）
# 選項: DELETE, TRUNCATE, PERSIST, MEMORY, WAL
# 推薦: WAL (Write-Ahead Logging) - 提升並發讀寫性能
SQLITE_JOURNAL_MODE=WAL

# Synchronous 模式（同步模式）
# 選項: OFF, NORMAL, FULL, EXTRA
# OFF    - 最快，但崩潰可能損壞數據庫
# NORMAL - 平衡性能與安全性（推薦）
# FULL   - 最安全，但最慢
SQLITE_SYNCHRONOUS=NORMAL

# Busy Timeout（忙碌超時，秒）
# 當數據庫被鎖定時的等待時間
SQLITE_BUSY_TIMEOUT=5

# ==========================================
# JWT 配置（用於驗證 Directus Token）
# ==========================================

# JWT 密鑰（必須與 Directus 一致）
#JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_SECRET="xLp9vW2tZ5cV8bN1mK4jH7gF0dA3sJ6hG9fD2kS5pX8yB1wM4rC7eU0iQ3tZ6vN1mK4jH7gF0dA3sJ6hG9fD2kS5pX8yB1wM4rC7eU0iQ3"

# JWT 過期時間（秒）604800等於7天（必須與 Directus 一致）
JWT_EXPIRATION=604800

# ==========================================
# CORS 配置
# ==========================================

# 允許的來源（逗號分隔）
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:8055

# ==========================================
# 日誌配置
# ==========================================

# 日誌級別: trace, debug, info, warn, error
# 開發環境推薦: debug
# 生產環境推薦: info 或 warn
RUST_LOG=debug