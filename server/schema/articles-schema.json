{
    "version": 1,
    "collections": [
        {
            "collection": "articles",
            "meta": {
                "icon": "article",
                "note": "文章主表"
            },
            "schema": {
                "name": "articles",
                "comment": "文章資料表"
            }
        },
        {
            "collection": "categories",
            "meta": {
                "icon": "category",
                "note": "文章分類"
            },
            "schema": {
                "name": "categories"
            }
        },
        {
            "collection": "tags",
            "meta": {
                "icon": "tag",
                "note": "文章標籤"
            },
            "schema": {
                "name": "tags"
            }
        },
        {
            "collection": "articles_tags",
            "meta": {
                "icon": "link",
                "note": "文章與標籤的中繼表（many-to-many）"
            },
            "schema": {
                "name": "articles_tags"
            }
        }
    ],
    "fields": [
        {
            "collection": "articles",
            "field": "title",
            "type": "string",
            "meta": {
                "interface": "input",
                "display": "raw",
                "note": "文章標題"
            },
            "schema": {
                "is_nullable": false
            }
        },
        {
            "collection": "articles",
            "field": "content",
            "type": "text",
            "meta": {
                "interface": "input-rich-text-html",
                "display": "formatted-text",
                "note": "文章內容"
            },
            "schema": {
                "is_nullable": true
            }
        },
        {
            "collection": "articles",
            "field": "author",
            "type": "string",
            "meta": {
                "interface": "input",
                "note": "作者名稱"
            },
            "schema": {
                "is_nullable": true
            }
        },
        {
            "collection": "articles",
            "field": "image",
            "type": "uuid",
            "meta": {
                "interface": "file-image",
                "note": "封面圖片"
            },
            "schema": {
                "is_nullable": true,
                "foreign_key_table": "directus_files",
                "foreign_key_column": "id"
            }
        },
        {
            "collection": "articles",
            "field": "category",
            "type": "integer",
            "meta": {
                "interface": "select-dropdown",
                "display": "related-values",
                "note": "分類"
            },
            "schema": {
                "is_nullable": true,
                "foreign_key_table": "categories",
                "foreign_key_column": "id"
            }
        },
        {
            "collection": "articles",
            "field": "tags",
            "type": "alias",
            "meta": {
                "interface": "list-m2m",
                "note": "多對多標籤",
                "options": {
                    "junction_collection": "articles_tags",
                    "junction_field": "article",
                    "related_collection": "tags",
                    "related_field": "tag"
                }
            },
            "schema": null
        },
        {
            "collection": "articles",
            "field": "status",
            "type": "string",
            "meta": {
                "interface": "select-dropdown",
                "options": {
                    "choices": [
                        {
                            "text": "草稿",
                            "value": "draft"
                        },
                        {
                            "text": "已發布",
                            "value": "published"
                        },
                        {
                            "text": "隱藏",
                            "value": "hidden"
                        }
                    ]
                },
                "note": "文章狀態"
            },
            "schema": {
                "default_value": "draft"
            }
        },
        {
            "collection": "articles",
            "field": "created_at",
            "type": "timestamp",
            "meta": {
                "interface": "datetime",
                "note": "建立時間"
            },
            "schema": {
                "default_value": "CURRENT_TIMESTAMP"
            }
        },
        {
            "collection": "articles",
            "field": "updated_at",
            "type": "timestamp",
            "meta": {
                "interface": "datetime",
                "note": "最後更新時間"
            },
            "schema": {
                "is_nullable": true
            }
        },
        {
            "collection": "categories",
            "field": "name",
            "type": "string",
            "meta": {
                "interface": "input",
                "note": "分類名稱"
            },
            "schema": {
                "is_nullable": false
            }
        },
        {
            "collection": "tags",
            "field": "name",
            "type": "string",
            "meta": {
                "interface": "input",
                "note": "標籤名稱"
            },
            "schema": {
                "is_nullable": false
            }
        },
        {
            "collection": "articles_tags",
            "field": "article",
            "type": "integer",
            "meta": {
                "interface": "select-dropdown",
                "note": "關聯到 articles"
            },
            "schema": {
                "is_nullable": false,
                "foreign_key_table": "articles",
                "foreign_key_column": "id"
            }
        },
        {
            "collection": "articles_tags",
            "field": "tag",
            "type": "integer",
            "meta": {
                "interface": "select-dropdown",
                "note": "關聯到 tags"
            },
            "schema": {
                "is_nullable": false,
                "foreign_key_table": "tags",
                "foreign_key_column": "id"
            }
        }
    ],
    "relations": [
        {
            "collection": "articles",
            "field": "category",
            "related_collection": "categories",
            "meta": {},
            "schema": {
                "on_delete": "SET NULL"
            }
        },
        {
            "collection": "articles",
            "field": "tags",
            "related_collection": "tags",
            "meta": {
                "junction_collection": "articles_tags",
                "many_collection": "articles",
                "many_field": "tags",
                "one_collection": "tags",
                "one_field": null
            }
        },
        {
            "collection": "articles_tags",
            "field": "article",
            "related_collection": "articles",
            "meta": {},
            "schema": {
                "on_delete": "CASCADE"
            }
        },
        {
            "collection": "articles_tags",
            "field": "tag",
            "related_collection": "tags",
            "meta": {},
            "schema": {
                "on_delete": "CASCADE"
            }
        }
    ]
}