# 員林基督教醫院自動掛號系統

為 80 歲媽媽自動掛劉又綾醫師的號

## 快速使用

### 1. 安裝依賴

```bash
cd bc-cch
npm install
```

### 2. 立即執行掛號檢查

```bash
node quick-booking.js
```

### 3. 啟動智能掛號系統

```bash
npm start
```

程序會詢問運行模式：

- **模式1**: 依日期選擇可用的醫師 (手動選擇)
- **模式2**: 依config自動尋找劉又綾醫師 (自動模式)
- **按 Enter**: 取消掛號 (媽媽要去買菜時使用)

### 4. 搜尋醫師工具

```bash
node find-doctor.js
```

## 程式說明

### 主要檔案

- **`booking.js`**: 主程式，支援排程和兩種掛號模式
- **`quick-booking.js`**: 快速測試版本，立即執行一次檢查
- **`find-doctor.js`**: 醫師搜尋工具，自動搜尋所有日期範圍

### 智能功能

- 🤖 **自動填寫表單**: 病歷號、生日、掛號類別
- 🔍 **智能醫師搜尋**: 支援醫師名稱和代碼搜尋
- ⏰ **定時監控**: 每天 8:00, 12:00, 18:00 自動檢查
- 🎯 **精準匹配**: 找到可掛號時段才進入填寫頁面
- 🚪 **自動結束**: 沒找到可掛號時段自動關閉程序

## 掛號資訊

- **醫師**: 劉又綾 (代碼: 0055881)
- **病歷號**: P200289819
- **生日**: 07/06

## 使用流程

1. 執行 `npm start`
2. 選擇運行模式 (1/2 或按 Enter 取消)
3. 程序自動檢查所有可選日期
4. 找到可掛號時段會自動填寫表單
5. 手動檢查資料並提交掛號
6. 沒找到時程序自動結束

## 注意事項

- ✅ 程序會自動檢查所有可選日期範圍
- ✅ 找到劉又綾醫師可掛號時段會自動填寫表單
- ✅ 支援手動選擇其他醫師 (模式1)
- ✅ 建議在網路穩定時執行
- ✅ 首次使用建議用 `quick-booking.js` 測試
- ✅ 媽媽要買菜時按 Enter 即可取消

## 技術特色

- 🔧 **智能表單識別**: 支援多種輸入框選擇器
- 🎛️ **雙模式運行**: 自動模式 + 手動選擇模式
- 🔄 **自動重試機制**: 定時排程持續監控
- 💻 **用戶友好介面**: 清晰的操作提示和狀態顯示
- 🛡️ **錯誤處理**: 網路異常和頁面變化的容錯處理
