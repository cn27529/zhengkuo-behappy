# user story

整個"參加記錄"的使用情境是這樣開始的:
寺廟的操作者，依據信眾的需求替信眾填寫"活動參加記錄"表單，"活動參加記錄"表單是依據"祈福登記"及"活動管理"兩種項目進行建立的，寺廟的操作者選擇某位信眾的"祈福登記"資料後視信眾的需要要參加的項目比如信眾告知：祈福登記的誰誰要參加超度、消災、點燈（要有生肖），寺廟的操作者會向信眾確認參加項目並做適合的內容選擇（視需要可能會回到"祈福登記"進行維護），這時本功能會有統計金額向信眾收取超度、消災、點燈（要有生肖）的費用，信眾交付金額後視需要可能會向寺廟的操作者要求取得收據或感謝狀，本功能會記錄當前參加的項目與細項，參加記錄資料會是這樣的結構："./client/src/data/mock_participation_records.json"。本功能會將參加記錄的結果集成為輸出的功能並生成"活動參加記錄報表"，後續的工作與會計系統做帳務串接或媒合帳務（沖帳），"活動參加記錄報表"（沖帳）會是另外一個功能。

## 20260123

「點燈」加入可選擇燈種，燈種有三種：光明燈、太歲燈、元辰燈。「點燈」己被選取後，依據「點燈」的資料項目可以適配某個燈種，燈種是單選，有「點燈」是必選項目。

### 燈種規格

- 光明燈：記錄用途
- 太歲燈：記錄用途
- 元辰燈：記錄用途

### 功能實現

- 選擇點燈後每位人員可選擇燈種
- 燈種為記錄用途，不影響價格計算
- 點燈統一價格 $600/位
- 預設選擇光明燈

# 使用方法說明

主要功能：
參加記錄資料檔

操作：
基本的CRUD功能
搜尋姓名、手機、電話、地址、祖先、生肖
列印
生成收據
保存記錄

### 業務流程

1. 選擇祈福登記表 - 從已提交的祈福登記表中選擇特定信眾
2. 活動項目選擇 - 根據信眾需求選擇參加項目：
   - 超度/超薦（祖先）
   - 陽上人（免費登記）
   - 消災祈福
   - 點燈（含燈種選擇：光明燈/太歲燈/元辰燈）
   - 固定消災
   - 中元普度
3. 費用計算 - 自動計算總金額
4. 記錄保存 - 生成完整參加記錄

### 資料來源邏輯

- **祖先資料** → 超度/超薦項目
- **消災人員資料** → 消災祈福、點燈、固定消災、中元普度
- **陽上人資料** → 陽上人項目

### 點燈特殊功能

- 每位人員可選擇不同燈種（光明燈/太歲燈/元辰燈）
- 燈種選擇純粹記錄用途，不影響價格
- 統一價格 $600/位
- 預設選擇光明燈

### 系統特色

- **即時計算** - 選擇項目時即時顯示金額
- **浮動統計** - 右下角顯示金額明細
- **搜尋功能** - 支援多欄位模糊搜尋
- **響應式設計** - 適配桌面和手機

### 後續流程

生成的參加記錄會用於：

- 收據開立
- 會計對帳
- 活動統計報表
- 帳務串接

這個功能本質上是將信眾的「意願」轉換為「實際參加記錄」，並處理相關的費用計算和資料管理。
